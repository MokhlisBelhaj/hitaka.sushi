"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1586],{492:function(e,r,t){t.d(r,{ob:function(){return a},Td:function(){return f},nr:function(){return v},M3:function(){return s},Bv:function(){return p},hH:function(){return u},LT:function(){return i},Ey:function(){return h},S7:function(){return d},uP:function(){return m}});t(809);var n=t(85866),c=t(63142),o=(t(89419),t(95914)),a=function(e,r){(0,c.L9)({event:c.ju.Click,action:e,category:c.WD.SearchBar,label:e===c.aU.ReverseImageIconClick?"":r})},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/-/g," ")},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return u(e).toLowerCase()},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.trim().replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-")},l=function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(null===r||void 0===r||null===(e=r.charAt(0))||void 0===e?void 0:e.toUpperCase())+(null===r||void 0===r?void 0:r.slice(1))},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l(s(e))},f=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",t=e?"".concat(encodeURIComponent(i(e)),".html"):"";return"".concat((0,n.q)(n.A.KeywordVideoSearch,r)).concat(t)},d=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",t=e?"".concat(encodeURIComponent(i(e)),".html"):"";return"".concat((0,n.q)(n.A.KeywordSearch,r)).concat(t)},h=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e&&e.includes(r)?e.replace("".concat(r," "),"".concat(r,"+")):e},v=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=r?"".concat(e).concat(encodeURIComponent((0,o.tF)(r)),".html"):e;return c&&e.includes((0,n.q)(n.A.KeywordSearch,t))?"".concat(a,"?imgt=0"):a},m=function(e,r,t,c,o){var a=t?encodeURIComponent(i(t)):"",u=t?"".concat(a,".html"):"";if(e===n.A.SearchNews)return"".concat(r,"?qt=").concat(t);var s=c?"?".concat(c):"";return["noveluse","bespoke","editorial"].some((function(e){return r.includes(e)}))?"".concat(r).concat(u,"?imgt=").concat(o,"&qt=").concat(a):"".concat(r).concat(u).concat(s)}},95914:function(e,r,t){t.d(r,{q3:function(){return O},Uz:function(){return j},Vp:function(){return b},tF:function(){return w},x6:function(){return x}});var n,c,o,a,u=t(92809),s=t(52209),i=t(26203),l=t(67814),p=t(26793),f=t(85866),d=t(8076),h=t(84541),v=t(63142),m=t(87828),g=t(85893);function y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/[ ./\\]+/g,"-").replace(/^-|-$/,"")},b=function(e){var r=e.keyword,t=e.searchUrl,n=e.onClick;return(0,g.jsxs)("a",{className:"flex items-center max-w-full px-4 py-2 mb-3 mr-3 text-sm border rounded border-grey-border bg-grey-light hover:border-black",href:t,onClick:n,children:[(0,g.jsx)(l.G,{className:"mr-2 text-xs",icon:i.faSearch}),(0,g.jsx)("span",{className:"max-w-xs overflow-hidden overflow-ellipsis",children:r})]})},x=function(e){var r=e.keyword,t=e.searchUrl;return e.showLink?(0,g.jsxs)("a",{className:"flex items-center max-w-full px-4 py-2 mb-3 mr-3 text-sm border rounded border-grey-border focus:bg-grey-light hover:bg-grey-light",href:t,children:[(0,g.jsx)(l.G,{className:"mr-2 text-xs",icon:i.faSearch}),(0,g.jsx)("span",{className:"max-w-xs overflow-hidden overflow-ellipsis",children:r})]}):(0,g.jsxs)("div",{className:"flex items-center max-w-full px-4 py-2 mb-3 mr-3 text-sm border rounded border-grey-border focus:bg-grey-light hover:bg-grey-light",children:[(0,g.jsx)(l.G,{className:"mr-2 text-xs",icon:i.faSearch}),(0,g.jsx)("span",{className:"max-w-xs overflow-hidden overflow-ellipsis",children:r})]})},O=function(e){var r=e.keywords,t=e.disableLinkForBot,u=void 0!==t&&t,i=e.video,l=void 0!==i&&i,y=(0,p.$)().t,O=(0,d.E)(),j=O.containerRef,Z=O.hasOverflow,k=O.isExpanded,E=O.toggleExpanded,P=(0,h.b)(),S=(0,f.q)(l?f.A.KeywordVideoSearch:f.A.KeywordSearch,P);return r.length?(0,g.jsxs)("div",{className:"text-grey-black",children:[(0,g.jsx)(m.M,{text:y(l?n||(n=(0,s.Z)(["search-tags.search-video-by-tags"])):c||(c=(0,s.Z)(["search-tags.search-by-tags"]))),collapseRuler:!0,children:Z&&(0,g.jsx)(m.A,{role:"button",onClick:E,children:y(k?o||(o=(0,s.Z)(["search-tags.show-fewer"])):a||(a=(0,s.Z)(["search-tags.show-all"])))})}),(0,g.jsx)("div",{className:k?void 0:"overflow-hidden max-h-24",ref:j,children:(0,g.jsx)("div",{className:"overflow-hidden",children:(0,g.jsx)("div",{className:"flex flex-wrap -mb-3",children:r.map((function(e){var r="string"===typeof e?e:e.key,t="string"===typeof e?e:e.label,n="string"===typeof e?"".concat(S).concat(w(e),".html"):e.href;return u?(0,g.jsx)(x,{keyword:t,showLink:"en"===P,searchUrl:n},r):(0,g.jsx)(b,{searchUrl:n,keyword:t,onClick:function(){return(0,v.Wf)(v.aU.KeywordClick,r)}},r)}))})})})]}):null},j=function(e){return(0,g.jsx)(O,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?y(Object(t),!0).forEach((function(r){(0,u.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({video:!0},e))}},8076:function(e,r,t){t.d(r,{E:function(){return i}});var n=t(92809),c=t(67294),o=t(66791),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=(0,c.useState)(null),t=r[0],n=r[1],a=(0,c.useRef)(null),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;a.current&&n(e?a.current.scrollHeight>e:a.current.scrollHeight>a.current.offsetHeight)};return(0,c.useEffect)((function(){return u(e)}),[]),(0,o.Z)("resize",(function(){return u(e)})),{containerRef:a,hasOverflow:t,update:u}};function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=a(e),t=r.hasOverflow,n=(0,c.useState)(null),o=n[0],u=n[1],i=function(e){e.preventDefault(),u(!o)};return(0,c.useEffect)((function(){"boolean"===typeof t&&u(!t)}),[t]),s(s({},r),{},{isExpanded:o,toggleExpanded:i})}},21586:function(e,r,t){t.d(r,{wv:function(){return j},GN:function(){return T},SE:function(){return k},SF:function(){return E},s3:function(){return S},ZY:function(){return M},uM:function(){return A},ew:function(){return P},V7:function(){return R},uT:function(){return I},uX:function(){return N},Lm:function(){return D},tN:function(){return q},bE:function(){return C},n6:function(){return U},fR:function(){return Z}});var n=t(61565),c=t(30266),o=t(92809),a=t(809),u=t.n(a),s=t(83109),i=t(56647),l=t(18095),p=t(46845),f=t(492),d=t(25053),h=t(2564),v=t(70707),m=t(89419),g=t(99799),y=t(58268);function w(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function b(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?w(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var x=function(e,r){var t,n=r.locale,c=r.isBot,a=r.type,u=r.geo,s=r.page,i=r.pn,p=r.ps,h=r.nasty,v=r.editorial,g=r.lightbox,w=r.rmuid,x=r.translate,O=r.sessionid,j=r.offset,Z=l.Yz.reduce((function(r,t){var n=e[t],c=t===m.A6&&Array.isArray(n)&&n.map((function(e){return"USA"===e?"us":e.toLowerCase()})).join(","),a="ethnicity"===t&&Array.isArray(n)&&n.join(",");return Array.isArray(n)?b(b({},r),{},(0,o.Z)({},t,c||a||n.join(","))):r}),e),k=Number(null===Z||void 0===Z?void 0:Z.imgt)===d.lJ.Social,E=Number(null===Z||void 0===Z?void 0:Z.imgt)===d.lJ.AllImages,P=k?{social:!0}:{};return b(b({},Z),{},(t={},(0,o.Z)(t,m.D2,g?void 0:Z[m.D2]),(0,o.Z)(t,"qt",(0,y.ZG)(Z.qt)),(0,o.Z)(t,"hc",(0,f.Ey)(Z.hc,"5")),(0,o.Z)(t,"frrate",(0,f.Ey)(Z.frrate,"50")),(0,o.Z)(t,"res",(0,f.Ey)(Z.res,"4k")),(0,o.Z)(t,"imgt",k||E?void 0:Z.imgt),(0,o.Z)(t,"langcode",n),(0,o.Z)(t,"isbot",c),(0,o.Z)(t,"type",a),(0,o.Z)(t,"geo",u),(0,o.Z)(t,"pn",i||s),(0,o.Z)(t,"ps",p),(0,o.Z)(t,"page",void 0),(0,o.Z)(t,"nasty",h),(0,o.Z)(t,"editorial",v),(0,o.Z)(t,"lightbox",g),(0,o.Z)(t,"rmuid",w),(0,o.Z)(t,"translate",x),(0,o.Z)(t,"sessionid",O),(0,o.Z)(t,"offset",j),(0,o.Z)(t,"ispartial",!0),t),P)},O=function(e){return{lan:e.locale,bot:e.isBot,ps:e.ps,pn:e.pn,type:e.productType,isProductUI:e.isProductUI}},j=function(e){return function(r){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.get("products/".concat(r.seqOrRef),b({params:O(b(b({},r),{},{isProductUI:!0}))},t?{}:{validateStatus:null}))}},Z=function(e){return function(){var r=(0,c.Z)(u().mark((function r(t){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.post("products/aggregate",t);case 3:return r.abrupt("return",r.sent.data);case 6:throw r.prev=6,r.t0=r.catch(0),new Error(r.t0.message);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e){return r.apply(this,arguments)}}()},k=function(e){return function(r){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.get("products/".concat(r.seqOrRef),b({params:O(b(b({},r),{},{productType:s.ProductType.Video,isProductUI:!0}))},t?{}:{validateStatus:null}))}},E=function(e){return function(){var r=(0,c.Z)(u().mark((function r(t){var n,c,o,a,s=arguments;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],c=n?100:0,o=O(t),r.prev=3,r.next=6,e.get("products/".concat(t.seqOrRef,"/similar/"),{timeout:c,params:o});case 6:return r.abrupt("return",r.sent.data.items);case 9:return r.prev=9,r.t0=r.catch(3),a=r.t0.response,n&&r.t0.code===v.SM.RequestTimeout?(0,h.S3)(new v.bW(t.seqOrRef),!1):a&&a.status===i.W.TOO_MANY_REQUESTS?(0,h.S3)(new v.uu(t.seqOrRef),!1):(0,h.S3)(r.t0),r.abrupt("return",null);case 14:case"end":return r.stop()}}),r,null,[[3,9]])})));return function(e){return r.apply(this,arguments)}}()},P=function(e){return function(){var r=(0,c.Z)(u().mark((function r(t,n){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.get("products/".concat(t.seqOrRef,"/same-contributor/"),{params:b(b({},O(t)),{},{qt:n})});case 3:return r.abrupt("return",r.sent.data);case 6:throw r.prev=6,r.t0=r.catch(0),new Error(r.t0.message);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e,t){return r.apply(this,arguments)}}()},S=function(e){return function(){var r=(0,c.Z)(u().mark((function r(t,n){var c,o,a;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=n.locale,o=n.isBot,a=n.type,r.prev=1,r.next=4,e.get("products",{params:b(b({},t),{},{lan:c,bot:o,type:a})});case 4:return r.abrupt("return",r.sent.data.items);case 7:throw r.prev=7,r.t0=r.catch(1),new Error(r.t0.message);case 10:case"end":return r.stop()}}),r,null,[[1,7]])})));return function(e,t){return r.apply(this,arguments)}}()},N=function(e){return function(){var r=(0,c.Z)(u().mark((function r(t,n){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.get("search",{params:x(t,n)});case 3:return r.abrupt("return",r.sent.data);case 6:throw r.prev=6,r.t0=r.catch(0),new Error(r.t0.message);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e,t){return r.apply(this,arguments)}}()},U=function(e){return function(){var r=(0,c.Z)(u().mark((function r(t,n){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.get("search/images-library-count",{params:x(t,n)});case 3:return r.abrupt("return",r.sent.data);case 6:throw r.prev=6,r.t0=r.catch(0),new Error(r.t0.message);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e,t){return r.apply(this,arguments)}}()},A=function(e){return function(){var r=(0,c.Z)(u().mark((function r(t,n){var c,o=arguments;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=o.length>2&&void 0!==o[2]&&o[2],r.prev=1,r.next=4,e.get("search/suggest",{params:{qt:t,lan:n,related:c}});case 4:return r.abrupt("return",r.sent.data);case 7:throw r.prev=7,r.t0=r.catch(1),new Error(r.t0.message);case 10:case"end":return r.stop()}}),r,null,[[1,7]])})));return function(e,t){return r.apply(this,arguments)}}()},R=function(e){return function(){var r=(0,c.Z)(u().mark((function r(t,n){var c;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c={imageId:t.imageid||"",altRef:n,pageNumber:Number(t.pn),pseudonymId:t.p||"",searchQuery:t.srch,searchId:t.searchId},r.prev=1,r.next=4,e.post("rankmeasures",b({},c));case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(1),(0,h.S3)(r.t0);case 9:case"end":return r.stop()}}),r,null,[[1,6]])})));return function(e,t){return r.apply(this,arguments)}}()},q=function(e){return function(){var r=(0,c.Z)(u().mark((function r(t,n,c){var a;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Promise.resolve(N(e)(b(b({},n),{},(0,o.Z)({},m.D2,t)),c));case 3:return a=r.sent,r.abrupt("return",{collectionType:t,items:(0,g.px)(a.items,c.locale),totalMatches:a.totalMatches});case 7:throw r.prev=7,r.t0=r.catch(0),new Error(r.t0.message);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e,t,n){return r.apply(this,arguments)}}()},D=function(e){return function(){var r=(0,c.Z)(u().mark((function r(t,c){var a,s,i,l,f,d;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Promise.all([p.yl.Ultimate,p.yl.Vital,p.yl.Uncut,p.yl.Foundation].map((function(r){return N(e)(b(b({},t),{},(0,o.Z)({},m.D2,r)),c)})));case 3:return a=r.sent,s=(0,n.Z)(a,4),i=s[0],l=s[1],f=s[2],d=s[3],r.abrupt("return",[{collectionType:p.yl.Ultimate,items:(0,g.px)(i.items,c.locale),totalMatches:i.totalMatches},{collectionType:p.yl.Vital,items:(0,g.px)(l.items,c.locale),totalMatches:l.totalMatches},{collectionType:p.yl.Uncut,items:(0,g.px)(f.items,c.locale),totalMatches:f.totalMatches},{collectionType:p.yl.Foundation,items:(0,g.px)(d.items,c.locale),totalMatches:d.totalMatches}]);case 12:throw r.prev=12,r.t0=r.catch(0),new Error(r.t0.message);case 15:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e,t){return r.apply(this,arguments)}}()},C=function(e){return function(){var r=(0,c.Z)(u().mark((function r(t,n){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.get("search/agencies",{params:x(t,n)});case 2:return r.abrupt("return",r.sent.data);case 3:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},I=function(e){return function(){var r=(0,c.Z)(u().mark((function r(t){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.post("showPrompt",t);case 3:return r.abrupt("return",r.sent.data);case 6:throw r.prev=6,r.t0=r.catch(0),new Error(r.t0.message);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e){return r.apply(this,arguments)}}()},M=function(e){return function(){var r=(0,c.Z)(u().mark((function r(t){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.post("verifyUserPassword",t);case 3:return r.abrupt("return",r.sent.data);case 6:throw r.prev=6,r.t0=r.catch(0),new Error(r.t0.message);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e){return r.apply(this,arguments)}}()},T=function(e){return function(){var r=(0,c.Z)(u().mark((function r(t){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.post("downloadProcessing",t);case 3:return r.abrupt("return",r.sent.data);case 6:throw r.prev=6,r.t0=r.catch(0),new Error(r.t0.message);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e){return r.apply(this,arguments)}}()}}}]);